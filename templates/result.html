<!doctype html>
<html>
    <head>
        <title>PyHtmlTables</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/1.6.0/tailwind.min.css-->
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    </head>

    <body class="bg-blue-100 pb-8">
        <a href="/"><h1 class="text-center text-2xl md:text-4xl lg:text-6xl text-blue-900 p-8">Flask Dataframer</h1></a>
        <div class="shadow overflow-hidden rounded-md mx-10">
            <div class="px-4 py-5 bg-white sm:p-6">
                <p class="text-blue-900 mt-2 mb-5 col-span-6">Nested list:</p>
                <textarea class="border-2 border-gray-100 rounded p-4 w-full" id="table-area" onclick="selectArea()" rows="10" readonly>{{ content }}</textarea>
                <p class="text-blue-900 mt-2 mb-5 col-span-6">Handsontable:</p>
                <div id="example1" class="hot "></div>
            </br>
            
            <p class="text-blue-900 mt-2 mb-5 col-span-6">Pandas dataframe</p>
        {% for table in tables %}
        {{ table|safe }}
        {% endfor %}

            </div>


        </div>



        <script src="https://cdn.jsdelivr.net/npm/handsontable@10.0/dist/handsontable.full.min.js"></script>

        <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/handsontable@10.0/dist/handsontable.full.min.css" /> 
        <script>
            function selectArea () {
                document.getElementById("table-area").focus();
                document.getElementById("table-area").select();
            }

// https://stackoverflow.com/questions/15321431/how-to-pass-a-list-from-python-by-jinja2-to-javascript      
            const data = {{ the_data | tojson | safe }};

            const container = document.getElementById('example1');

            const hot = new Handsontable(container, {
            data,
            startRows: 5,
            startCols: 5,
            height: 'auto',
            width: 'auto',
            colHeaders: true,
            rowHeaders: true,
            columnSorting: true,
            minSpareRows: 0,
            licenseKey: 'non-commercial-and-evaluation'
            });



        </script>
    </body>
</html>
